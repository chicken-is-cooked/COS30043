<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Job Explorer</title>
  <!-- Vue 3 & Vue Router 4 (CDN) -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://unpkg.com/vue-router@4/dist/vue-router.global.js"></script>
  <script defer src="../sample-code.html/"></script>
</head>
<body>
  <div id="app"></div>

  <!-- APP: danh sách job ở TRÊN, chi tiết ở DƯỚI -->
  <template id="app-tpl">
    <div>
      <h1>Job Explorer</h1>

      <h2>Jobs</h2>
      <ul>
        <!-- chỉ hiện mã job (job_id); click để xem chi tiết ở dưới -->
        <li v-for="j in jobs" :key="j.job_id">
          <router-link :to="'/job/' + j.job_id">{{ j.job_id }}</router-link>
          <!-- nếu muốn kèm tiêu đề: {{ j.job_id }} - {{ j.job_title }} -->
        </li>
      </ul>

      <hr />

      <!-- vùng chi tiết -->
      <router-view></router-view>
    </div>
  </template>

  <!-- GỢI Ý khi chưa chọn -->
  <template id="hint-tpl">
    <div>Select a job code above to see details.</div>
  </template>

  <!-- CHI TIẾT JOB -->
  <template id="job-detail-tpl">
    <div v-if="job">
      <h2>Details of {{ job.job_id }}</h2>
      <ul>
        <li><strong>Job Title:</strong> {{ job.job_title }}</li>
        <li><strong>Category:</strong> {{ job.category }}</li>
        <li><strong>Location:</strong> {{ job.location }}</li>
        <li><strong>Employment Type:</strong> {{ job.employment_type }}</li>
        <li><strong>Salary Range:</strong> {{ job.salary_range }}</li>
        <li><strong>Job Level:</strong> {{ job.job_level }}</li>
        <li><strong>Required Skills:</strong>
          <span v-if="job.required_skills && job.required_skills.length">
            {{ job.required_skills.join(', ') }}
          </span>
        </li>
        <li><strong>Preferred Qualifications:</strong>
          <span v-if="job.preferred_qualifications && job.preferred_qualifications.length">
            {{ job.preferred_qualifications.join(', ') }}
          </span>
        </li>
        <li><strong>Description:</strong> {{ job.job_description }}</li>
        <li><strong>Application Deadline:</strong> {{ job.application_deadline }}</li>
        <li><strong>Posted Date:</strong> {{ job.posted_date }}</li>
        <li><strong>Company:</strong> {{ job.company }}</li>
        <li><strong>Supervisor:</strong> {{ job.supervisor }}</li>
        <li><strong>Positions Available:</strong> {{ job.positions_available }}</li>
        <li><strong>Start Date:</strong> {{ job.start_date }}</li>
        <li><strong>Tags:</strong>
          <span v-if="job.tags && job.tags.length">
            {{ job.tags.join(', ') }}
          </span>
        </li>
      </ul>
    </div>
    <div v-else>
      Job not found.
    </div>
  </template>
</body>
</html>
